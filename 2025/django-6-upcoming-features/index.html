<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  <title>
    
    Upcoming Django 6.0 Features
    
  </title>

  
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$']],
          processEscapes: true,
          processEnvironments: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
          TeX: {
            equationNumbers: { autoNumber: "AMS" },
            extensions: ["AMSmath.js", "AMSsymbols.js"]
          }
        }
      });
      MathJax.Hub.Queue(function () {
        var all = MathJax.Hub.getAllJax(), i;
        for (i = 0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });

      MathJax.Hub.Config({
        
        TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
  </script>

  















    
        <link rel="preconnect" href="https://analytics.kuribosoft.com">
    
        
            
            <script defer  data-domain="raulnegron.me" src="https://analytics.kuribosoft.com/js/script.js" ></script>

<!-- If you are using Content-Security-Policy, do not forget to add this code to your CSP : 
  script-src 'unsafe-inline' https://analytics.kuribosoft.com
  connect-src 'unsafe-inline' https://analytics.kuribosoft.com
  or just add the partial 'plausible_csp.html' to those 2 csp directives in your 'index.headers' file
-->



    
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
    <script>
         
         
         
    </script>

    


  
  <link rel="stylesheet" href="/css/poole.css" />
  <link rel="stylesheet" href="/css/syntax.css" />
  <link rel="stylesheet" href="/css/lanyon.css" />
  <link rel="stylesheet" href="/css/styles.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400" />

  
  <link rel="shortcut icon" href="/assets/favicon.ico" />

  
  
</head>


  <body>

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="profile">
      <img src="/img/profile.png" />
    </div>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/">main page</a>

    
    
    
    <a class="sidebar-nav-item " href="https://raulnegron.me/about/">about me</a>
    
    
    
    <a class="sidebar-nav-item " href="https://raulnegron.me/blog/">blog</a>
    
    
    
    <a class="sidebar-nav-item " href="https://raulnegron.me/uses/">uses</a>
    
    
    
    <a class="sidebar-nav-item " href="https://raulnegron.me/projects/">open source projects</a>
    
    
    
    <a class="sidebar-nav-item " href="https://raulnegron.me/appearances/">other contributions</a>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <a class="sidebar-nav-item" href="https://raulnegron.me/index.xml" target="_blank">feed</a>
    <a class="sidebar-nav-item" href="https://github.com/rnegron" target="_blank">github</a>
    <a class="sidebar-nav-item" href="https://www.linkedin.com/in/raulnegron/" target="_blank">linkedin</a>

  </nav>

  <div class="sidebar-item">
    <p>Site written in <a href="https://daringfireball.net/projects/markdown/">Markdown</a>, generated by <a
        href="https://gohugo.io">Hugo</a>, hosted on <a href="https://pages.github.com/">Github
        Pages</a> and registered using <a href="https://aws.amazon.com/route53/">Route 53</a>.</p>
    <p class="tiny-note">
      <a class="muted" href="https://github.com/thomaswilley/pelicanyan">theme: modified hugo-lanyon</a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>&copy; 2025. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home"></a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">


<article class="post">
  <h1 class="post-title">Upcoming Django 6.0 Features</h1>
  <span class="post-date">November 13, 2025</span>
  

  <p>The Django 6.0 release <a href="https://www.djangoproject.com/download/6.0/roadmap/">is scheduled for early next month</a>. In this post, I wanted to briefly highlight the standout features.</p>
<h2 id="1-background-tasks">1. Background Tasks</h2>
<p>The upcoming <a href="https://docs.djangoproject.com/en/dev/ref/tasks/">Tasks API</a> defines an interface for interacting with objects that are expected to run outside of the typical HTTP request/response cycle, like sending emails. The API includes a <a href="https://docs.djangoproject.com/en/dev/ref/tasks/#django.tasks.TaskResult"><code>TaskResult</code></a> class for obtaining task progress and return values.</p>
<p>Here&rsquo;s what defining a simple task looks like:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.tasks</span> <span class="kn">import</span> <span class="n">task</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@task</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">queue_name</span><span class="o">=</span><span class="s2">&#34;documents&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">process_document_for_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">document_url</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">document_url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">expensive_processing</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">document_buffer</span><span class="o">=</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span></code></pre></div><p>You can obtain a <code>TaskResult</code> object by queueing the task:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">result</span><span class="p">:</span> <span class="n">TaskResult</span> <span class="o">=</span> <span class="n">process_document_for_user</span><span class="o">.</span><span class="n">enqueue</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">document_url</span><span class="o">=</span><span class="n">my_doc_url</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p>Assuming <code>response.raise_for_status()</code> throws an exception, then:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">status</span><span class="p">)</span> <span class="c1"># &#34;FAILED&#34;</span>
</span></span></code></pre></div><p>Otherwise, if the task completed without exception, the following would print the return value of <code>expensive_processing</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">status</span> <span class="ow">is</span> <span class="n">TaskResultStatus</span><span class="o">.</span><span class="n">SUCCESSFUL</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">return_value</span><span class="p">)</span>
</span></span></code></pre></div><p>Interestingly, Django deliberately avoids adding support for task runtimes; Django 6.0 defines a common API for queuing tasks and obtaining results, but does not prescribe how tasks should actually be executed. Instead, it allows future task execution providers to &ldquo;plug in&rdquo; via the <a href="https://docs.djangoproject.com/en/6.0/ref/settings/#std-setting-TASKS-BACKEND">familiar <code>BACKEND</code> setting</a>.</p>
<p>Reading the Django Enhancement proposal (<a href="https://www.djangoproject.com/weblog/2024/may/29/django-enhancement-proposal-14-background-workers/">DEP 14</a>), the main motivation for this is clear: <em>&quot;[&hellip;] the ecosystem is filled with incredibly popular frameworks, all of which interact with Django in slightly different ways [&hellip;]&quot;</em></p>
<p>It&rsquo;s difficult to discuss this feature without <a href="https://docs.celeryq.dev/en/stable/getting-started/introduction.html"><code>celery</code></a> coming to mind&hellip; It&rsquo;s the de facto standard for defining and actually running tasks for Django projects, as far as I&rsquo;m aware. I&rsquo;ve used Celery extensively (it&rsquo;s part of <a href="https://github.com/rnegron/django-project-template">my go-to tooling for Django projects</a>), and I&rsquo;m curious to see how this standardized interface will be adopted by them, if at all.</p>
<p>I&rsquo;d expect either the <code>celery</code> project itself or someone else to write a <code>celery</code>-compatible <code>Task</code> backend (or wrapper) in the near future, although a quick scan of the project&rsquo;s <a href="https://github.com/celery/celery/issues">issues page</a> yields no results&hellip;</p>
<h2 id="2-template-partials">2. Template Partials</h2>
<p>Built-in support for <a href="https://docs.djangoproject.com/en/dev/ref/templates/language/#template-partials">template partials</a> is also coming in Django 6.0. I think this improvement to the core templates component is particularly welcome given the increasing adoption of <code>htmx</code> in Django projects, as shown in the recently published <a href="https://lp.jetbrains.com/django-developer-survey-2025/">2025 Django Developer Survey results</a>.</p>
<p>Not to be confused with <a href="https://docs.djangoproject.com/en/dev/ref/templates/language/#template-inheritance">template inheritance</a> or <a href="https://docs.djangoproject.com/en/dev/ref/templates/builtins/#include">template inlining via <code>include</code></a>, template &ldquo;partials&rdquo; are intended for small HTML re-use via the new <code>{% partialdef %}</code> and <code>{% partial %}</code> tags.</p>
<p>Here&rsquo;s a quick example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-django" data-lang="django"><span class="line"><span class="cl"><span class="cp">{%</span> <span class="k">partialdef</span> <span class="nv">user_card</span> <span class="cp">%}</span><span class="x">
</span></span></span><span class="line"><span class="cl"><span class="x">  &lt;div class=&#34;card&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="x">    &lt;h3&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span> <span class="cp">}}</span><span class="x">&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="x">    &lt;p&gt;</span><span class="cp">{{</span> <span class="nv">user.email</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="x">  &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="x"></span><span class="cp">{%</span> <span class="k">endpartialdef</span> <span class="cp">%}</span><span class="x">
</span></span></span><span class="line"><span class="cl"><span class="x">
</span></span></span><span class="line"><span class="cl"><span class="x">&lt;!-- Reuse the partial using the partial name and provide context --&gt;
</span></span></span><span class="line"><span class="cl"><span class="x"></span><span class="cp">{%</span> <span class="k">partial</span> <span class="nv">user_card</span> <span class="nv">user</span><span class="o">=</span><span class="nv">current_user</span> <span class="cp">%}</span><span class="x">
</span></span></span></code></pre></div><p>The ability to <a href="https://docs.djangoproject.com/en/dev/ref/templates/language/#template-partials-direct-access">directly access named partials</a> is likely to become the best-practice approach when it comes to working with <code>htmx</code>-style &ldquo;respond with an HTML snippet&rdquo; requests.</p>
<p>This feature is essentially &ldquo;vendoring-in&rdquo; the <a href="https://github.com/carltongibson/django-template-partials"><code>django-template-partials</code></a> third-party package.</p>
<h2 id="bonus-content-security-policy">Bonus: Content Security Policy</h2>
<p>Django 6.0 also includes built-in <a href="https://docs.djangoproject.com/en/dev/releases/6.0/#content-security-policy-support">Content Security Policy support</a>. For a second time now, this is essentially &ldquo;vendoring-in&rdquo; a popular third-party package, in this case <a href="https://github.com/mozilla/django-csp"><code>django-csp</code></a>. I tend to view this pattern positively, as it further reinforces Django’s “batteries-included” philosophy.</p>
<p>&ldquo;CSP&rdquo; is a browser security standard that helps prevent cross-site scripting (XSS) and other code injection attacks by controlling which resources (scripts, images, etc.) can be loaded and executed on your web pages.</p>
<p>With Django 6.0, you can configure CSP policies directly in your settings:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.utils.csp</span> <span class="kn">import</span> <span class="n">CSP</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">CONTENT_SECURITY_POLICY</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;default-src&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">CSP</span><span class="o">.</span><span class="n">SELF</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;script-src&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">CSP</span><span class="o">.</span><span class="n">SELF</span><span class="p">,</span> <span class="s2">&#34;cdn.example.com&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;style-src&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">CSP</span><span class="o">.</span><span class="n">SELF</span><span class="p">,</span> <span class="n">CSP</span><span class="o">.</span><span class="n">UNSAFE_INLINE</span><span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>You&rsquo;d also need to make sure to set up the proper middleware, see the <a href="https://docs.djangoproject.com/en/dev/howto/csp/">how-to guide</a> for more details.</p>
<p>Defining and maintaining a CSP is an important (and in my experience, often overlooked) part of a project&rsquo;s production readiness. Setting up a proper CSP helps protect against injection attacks, which rank #5 in this year&rsquo;s <a href="https://owasp.org/Top10/2025/A05_2025-Injection/">OWASP Top 10</a>.</p>
<h2 id="how-to-use-these-features-today">How to Use These Features Today</h2>
<p>You can opt in to start testing these features today. The latest pre-release for the 6.0 branch is <a href="https://www.djangoproject.com/weblog/2025/oct/22/django-60-beta-released/">Django 6.0 beta 1</a>, tagged as <code>6.0b1</code>.</p>
<p>Install it using <code>uv</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">uv add <span class="s2">&#34;django==6.0b1&#34;</span>
</span></span></code></pre></div><p>or using <code>pip</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pip install --pre django
</span></span></code></pre></div><p>Make sure to read through the <a href="https://docs.djangoproject.com/en/dev/releases/6.0/#features-deprecated-in-6-0">deprecations</a> and <a href="https://docs.djangoproject.com/en/dev/releases/6.0/#features-removed-in-6-0">feature removals</a> beforehand!</p>
<p>There are a bunch of other features and improvements coming besides the ones highlighted above, so be sure to check out the <a href="https://docs.djangoproject.com/en/dev/releases/6.0/">release docs</a> if you&rsquo;re interested.</p>
<p>Django 6.0 is set to be publicly released on December 3rd, 2025.</p>

</article>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>

